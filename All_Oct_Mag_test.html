<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>UPSC Test Portal</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
    font-family: Arial, sans-serif;
    background:#f4f6f8;
    margin:0;
    padding:20px;
}
h1{
    text-align:center;
}
#tests{
    max-width:700px;
    margin:auto;
}
.test{
    background:white;
    margin:10px 0;
    padding:15px;
    border-radius:8px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    box-shadow:0 2px 6px rgba(0,0,0,.1);
}
.test span{
    font-weight:600;
}
.test button{
    padding:8px 14px;
    background:#0d6efd;
    border:none;
    color:white;
    border-radius:6px;
    cursor:pointer;
}
.test button:hover{
    background:#084298;
}
</style>
</head>

<body>

<h1>üìò UPSC Online Test Series</h1>
<div id="tests">Loading tests...</div>

<script>
const USERNAME = "DineshIAS96";      // ‚Üê ‡§Ö‡§™‡§®‡§æ GitHub username
const REPO = "CA_Mag";              // ‚Üê repo name
const BRANCH = "main";

fetch(`https://api.github.com/repos/${USERNAME}/${REPO}/contents/?ref=${BRANCH}`)
.then(res => res.json())
.then(files => {
    const container = document.getElementById("tests");
    container.innerHTML = "";

    files
    .filter(f => f.name.endsWith(".html") && f.name !== "index.html")
    .sort((a,b) => a.name.localeCompare(b.name))
    .forEach(file => {
        const div = document.createElement("div");
        div.className = "test";

        div.innerHTML = `
            <span>${file.name.replace(".html","")}</span>
            <button onclick="location.href='${file.name}'">Start Test</button>
        `;
        container.appendChild(div);
    });
})
.catch(()=>{
    document.getElementById("tests").innerHTML = "‚ùå Tests load nahi ho paaye";
});
</script>

</body>
</html>
